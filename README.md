# AVSoftTestTask
AVSoft


Написать скрипт на Python, который делает карту любого сайта.
Требования:
1. Предпочтительно объектно-ориентированный стиль
программирования;
1. Многопоточная обработка с Python средствами
(Multiprocessing, Threading, etc..) или потоки из под языка
Си (захват/освобождение GIL);
1. Итераторы/Генераторы для обхода структуры (в
глубину/ширину);
1. Залить на Github/Bitbucket;
1. Опционально: сейв карты в базу или рисовать с помощью
matplotlib.

В рамках задания было реализовано два класса: SiteMap, который выступает в виде структуры хранения ссылок (граф) и Parser, который анализирует html страничку и добавляет ссылки в граф.
Класс Parser содержит следующие методы:
* _find_site() - для поиска элемента элемента;
* _download_page() - для загрузки страницы;
* start() - для запуска построения графа;
* _get_content_type() - для определения типа страницы;
* _parse() - для анализа определенной страницы;
* save_graph - для сохрахранения изображения графа. 

Также в классе присутствуют два генератора:
1. breadth - для обхода полученной структуры в ширину;
1. deep - для обхода структуры в глубину.

Для запуска приложения:
1. git clone https://github.com/olegsergeyev/AVSoftTestTask
2. cd AVSoftTestTask
3. pipenv sync
4. pipenv shell
5. python parser.py

parser.py принимает 2 обязательных аргумента - url страницы и имя выходного файла. 

Также можно передать:
 
 * размер выходного файла в пикселях (до 65535) с помощью ключа --s;
 * максимальное количество попыток скачивания страницы с помощью ключа --ma;
 * максимальную глубину парсинга с помощью ключа --md;
 *максимальное время ожидания ответа сервера в секундах с помощью ключа --mt.
